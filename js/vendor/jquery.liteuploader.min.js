/* liteUploader v1.3.1 | https://github.com/burt202/lite-uploader | Aaron Burtnyk (http://www.burtdev.net) */
/* rozsireno o pole disallowedFileTypes --REMINIFIED jscompress.com | Jakub Josef */
$.fn.liteUploader=function(e){function t(e,t,n,r,i,s){var o=[],u;if(t&&jQuery.inArray(e.type,t.split(","))===-1){u=i||"Incorrect file type (only "+t+" allowed)";o.push({type:"type",message:u})}if(n&&jQuery.inArray(e.type,n.split(","))!==-1){u=i||"Prohibited file type";o.push({type:"type",message:u})}if(r&&e.size>r){u=s||"File size too big (max "+r+" bytes)";o.push({type:"size",message:u})}return o}var n={script:null,allowedFileTypes:null,disallowedFileTypes:null,maxSizeInBytes:null,typeMessage:null,sizeMessage:null,before:function(){},each:function(e,t){},success:function(e){},fail:function(e){}},r=$.extend(n,e);this.change(function(){var e,n=new FormData,i,s=$(this),o=false,u=[];if(this.files.length===0){return}r.before();for(e=0;e<this.files.length;e+=1){i=this.files[e];u=t(i,r.allowedFileTypes,r.disallowedFileTypes,r.maxSizeInBytes,r.typeMessage,r.sizeMessage);if(u.length>0){o=true}n.append(s.attr("name")+"[]",i);r.each(i,u)}if(o){return}if($(this).attr("id")){n.append("liteUploader_id",$(this).attr("id"))}$.ajax({url:r.script,type:"POST",data:n,processData:false,contentType:false}).always(function(){s.replaceWith(s.val("").clone(true))}).done(function(e){r.success(e)}).fail(function(e){r.fail(e)})})}